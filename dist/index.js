typeof window<"u"&&(async()=>{try{let e=await import("datastar");e?.attribute&&e.attribute(g(e.beginBatch,e.endBatch))}catch{}})();function y(e){let n=e.toLowerCase().split("-").map(t=>t.trim()),a={},r="";for(let t of n)switch(t){case"ctrl":case"control":a.ctrl=!0;break;case"alt":a.alt=!0;break;case"shift":a.shift=!0;break;case"meta":case"cmd":case"command":a.meta=!0;break;default:r=t;break}return{key:r,modifiers:a}}function d(e){if(e.length===1&&/[a-z]/.test(e))return e;let n=e.charAt(0).toUpperCase()+e.slice(1).toLowerCase();return{Space:" ",Return:"Enter",Esc:"Escape",Del:"Delete",Pageup:"PageUp",Pagedown:"PageDown",Up:"ArrowUp",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight"}[n]||n}function m(e,n){let{key:a,modifiers:r}=y(n),t=e.key,o=d(a);return!(t!==o||!!r.ctrl!==e.ctrlKey||!!r.alt!==e.altKey||!!r.shift!==e.shiftKey||!!r.meta!==e.metaKey)}function g(e,n){return{name:"on-keys",requirement:{value:"must"},argNames:["evt"],returnsValue:!0,apply({el:a,key:r,mods:t,rx:o}){let c=r?r.split(".").map(i=>i.trim()):[],s=window;t.has("el")&&(s=a);let u=i=>{if(i){if(!(i instanceof KeyboardEvent))return;let l=!1;if(c.length===0)l=!0;else for(let b of c)if(m(i,b)){l=!0;break}if(!l)return;!t.has("noprevent")&&typeof r<"u"&&i.preventDefault(),t.has("stop")&&i.stopPropagation()}e(),o(i),n()},f={capture:t.has("capture"),passive:t.has("passive"),once:t.has("once")},p=t.has("up")?"keyup":"keydown";return s.addEventListener(p,u,f),()=>{s.removeEventListener(p,u,f)}}}}export{g as default};
//# sourceMappingURL=index.js.map
